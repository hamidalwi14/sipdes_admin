"use strict";(globalThis["webpackChunkweb_admin"]=globalThis["webpackChunkweb_admin"]||[]).push([[386],{3386:(a,e,l)=>{l.r(e),l.d(e,{default:()=>ta});var t=l(9835);function n(a,e,l,n,s,o){const i=(0,t.up)("form-produk");return(0,t.wg)(),(0,t.j4)(i,{editMode:!0,title:"Edit"})}var s=l(6970);const o={class:"col col-lg-12 col-md-6 col-sm-8 col-xs-10 q-pt-md"},i={class:"row q-mt-lg q-gutter-md"},r={class:"row col fit"},u={class:"col"},m={class:"col-2 q-table__title"},d={class:"text-caption"},g={class:"row q-gutter-sm"},p={class:"col"},h={class:"col"},c={class:"row q-gutter-sm"},f={class:"col"},_={class:"col"},k={class:"row q-gutter-sm"},b={class:"col"},j={class:"col"},w={class:"row q-gutter-sm"},y={class:"col"},V={class:"col"},v={class:"row q-gutter-sm"},q={class:"col"},W={class:"col"},S={class:"row q-gutter-sm"},L={class:"col"},$={class:"row q-gutter-sm"},Z={class:"col"},z={class:"q-mt-md"};function P(a,e,l,n,P,Q){const U=(0,t.up)("q-breadcrumbs-el"),D=(0,t.up)("q-breadcrumbs"),C=(0,t.up)("q-card"),N=(0,t.up)("q-input"),T=(0,t.up)("q-icon"),x=(0,t.up)("q-file"),I=(0,t.up)("q-select"),K=(0,t.up)("q-btn"),M=(0,t.up)("q-form"),J=(0,t.up)("q-card-section"),B=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(B,{class:"q-pr-md q-pl-md q-pa-md"},{default:(0,t.w5)((()=>[(0,t._)("div",o,[(0,t.Wm)(C,{class:"my-card q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{separator:"---",class:"text-blue-10","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{label:"Main Menu",icon:"widgets"}),(0,t.Wm)(U,{label:"Pengaduan",icon:"emoji_events"}),this.editMode?((0,t.wg)(),(0,t.j4)(U,{key:0,label:"Edit Pengaduan",icon:"edit"})):((0,t.wg)(),(0,t.j4)(U,{key:1,label:"Tambah Pembangunan",icon:"add"}))])),_:1})])),_:1}),(0,t._)("div",i,[(0,t._)("div",r,[(0,t.Wm)(C,{class:"my-card col",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(J,{horizontal:""},{default:(0,t.w5)((()=>[(0,t.Wm)(J,{class:"col q-pa-lg"},{default:(0,t.w5)((()=>[(0,t._)("div",u,[(0,t._)("div",m,(0,s.zw)(this.title)+" Data Pembangunan",1),(0,t._)("p",d,"Form "+(0,s.zw)(this.title)+" data pembangunan",1)]),(0,t.Wm)(M,{onSubmit:Q.onSubmit,onReset:Q.onReset},{default:(0,t.w5)((()=>[(0,t._)("div",g,[(0,t._)("div",p,[(0,t.Wm)(N,{readonly:"",filled:"",modelValue:P.form.nik,"onUpdate:modelValue":e[0]||(e[0]=a=>P.form.nik=a),label:"NIK","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data NIK"]},null,8,["modelValue","rules"])]),(0,t._)("div",h,[(0,t.Wm)(N,{readonly:"",filled:"",modelValue:P.form.nama_lengkap,"onUpdate:modelValue":e[1]||(e[1]=a=>P.form.nama_lengkap=a),label:"Nama Lengkap","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi Nama Lengkap"]},null,8,["modelValue","rules"])])]),(0,t._)("div",c,[(0,t._)("div",f,[(0,t.Wm)(N,{readonly:"",filled:"",modelValue:P.form.alamat_lengkap,"onUpdate:modelValue":e[2]||(e[2]=a=>P.form.alamat_lengkap=a),label:"Alamat Lengkap","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])]),(0,t._)("div",_,[(0,t.Wm)(N,{readonly:"",filled:"",modelValue:P.form.jenis_kelamin,"onUpdate:modelValue":e[3]||(e[3]=a=>P.form.jenis_kelamin=a),label:"Jenis Kelamin","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])])]),(0,t._)("div",k,[(0,t._)("div",b,[(0,t.Wm)(N,{readonly:"",filled:"",modelValue:P.form.tempat_lahir,"onUpdate:modelValue":e[4]||(e[4]=a=>P.form.tempat_lahir=a),label:"Tempat Lahir","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])]),(0,t._)("div",j,[(0,t.Wm)(N,{readonly:"",filled:"",modelValue:P.form.tanggal_lahir,"onUpdate:modelValue":e[5]||(e[5]=a=>P.form.tanggal_lahir=a),label:"tanggal_lahir","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])])]),(0,t._)("div",w,[(0,t._)("div",y,[(0,t.Wm)(N,{readonly:"",filled:"",modelValue:P.form.agama,"onUpdate:modelValue":e[6]||(e[6]=a=>P.form.agama=a),label:"Agama","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])]),(0,t._)("div",V,[(0,t.Wm)(N,{readonly:"",filled:"",modelValue:P.form.status_perkawinan,"onUpdate:modelValue":e[7]||(e[7]=a=>P.form.status_perkawinan=a),label:"Status Perkawinan","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])])]),(0,t._)("div",v,[(0,t._)("div",q,[(0,t.Wm)(N,{readonly:"",filled:"",modelValue:P.form.jenis_surat,"onUpdate:modelValue":e[8]||(e[8]=a=>P.form.jenis_surat=a),label:"Jenis Surat","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])]),(0,t._)("div",W,[(0,t.Wm)(N,{readonly:"",filled:"",modelValue:P.form.tanggal_pengajuan,"onUpdate:modelValue":e[9]||(e[9]=a=>P.form.tanggal_pengajuan=a),label:"Tanggal Pengajuan","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])])]),(0,t._)("div",S,[(0,t._)("div",L,[(0,t.Wm)(x,{filled:"","bottom-slots":"",dense:"",modelValue:P.form.file,"onUpdate:modelValue":e[10]||(e[10]=a=>P.form.file=a),label:"File Surat"},{before:(0,t.w5)((()=>[(0,t.Wm)(T,{name:"description"})])),_:1},8,["modelValue"])])]),(0,t._)("div",$,[(0,t._)("div",Z,[(0,t.Wm)(I,{options:P.opsi,filled:"",modelValue:P.form.status_pengajuan,"onUpdate:modelValue":e[11]||(e[11]=a=>P.form.status_pengajuan=a),label:"Status","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Status Tidak Boleh Kosong"]},null,8,["options","modelValue","rules"])])]),(0,t._)("div",z,[(0,t.Wm)(K,{label:"Submit",outline:"",type:"submit",color:"green",style:{width:"150px"}}),this.editMode?((0,t.wg)(),(0,t.j4)(K,{key:0,label:"Cancel",type:"reset",color:"red",outline:"",class:"q-ml-sm",style:{width:"150px"}})):((0,t.wg)(),(0,t.j4)(K,{key:1,label:"Reset",type:"reset",color:"red",outline:"",class:"q-ml-sm",style:{width:"150px"}}))])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1})])])])])),_:1})}l(2879);var Q=l(5498),U=l(2284);let D=[],C=[];const N={name:"PageIndex",components:{lottie:Q.Z},props:{editMode:Boolean,title:String},data(){return{address:"",opsi:["Dalam Proses","Ditolak","Diterima"],map:null,marker:null,defaultLocation:{lat:-5.4368452,lng:105.2502415},image:null,form:{nik:null,nama_lengkap:null,alamat_lengkap:null,jenis_kelamin:null,tempat_lahir:null,tanggal_lahir:null,agama:null,status_perkawinan:null,jenis_surat:null,tanggal_pengajuan:null,status_pengajuan:null,file:null},oldImg:null,options:{options_kategori:[],options_status:["On Going","Selesai","Pengajuan"],options_jenis:[]},defaultOptions:{animationData:U},animationSpeed:2}},created(){if(this.getKategori(),this.getJenis(),console.log("APA INI"),this.editMode)try{this.$api.get("pengajuan_surat/get-id/"+this.$route.params.id).then((a=>{if(!0!==a.data.status)this.$showNotif(a.data.message,"negative");else{console.log(a.data);const e=a.data.data;this.form.nik=e.nik,this.form.nama_lengkap=e.nama_lengkap,this.form.alamat_lengkap=e.alamat_lengkap,this.form.jenis_kelamin=e.jenis_kelamin,this.form.tempat_lahir=e.tempat_lahir,this.form.tanggal_lahir=e.tanggal_lahir,this.form.agama=e.agama,this.form.status_perkawinan=e.status_perkawinan,this.form.jenis_surat=e.jenis_surat,this.form.tanggal_pengajuan=e.tanggal_pengajuan,this.form.status_pengajuan=e.status_pengajuan,this.form.file=e.file}}))}catch(a){console.log(a.message),this.$showNotif("Terjadi ke !","negative")}},methods:{handleAnimation:function(a){this.anim=a},stop:function(){this.anim.stop()},play:function(){this.anim.play()},pause:function(){this.anim.pause()},onSpeedChange:function(){this.anim.setSpeed(this.animationSpeed)},getKategori(){this.$api.get("type/gettype/Kategori").then((a=>{const e=a.data.result;D=e.map((a=>a.name))}))},filterKategori(a,e){e(""!==a?()=>{const e=a.toLowerCase();this.options.options_kategori=D.filter((a=>a.toLowerCase().indexOf(e)>-1))}:()=>{this.options.options_kategori=D})},getJenis(){this.$api.get("type/gettype/Jenis").then((a=>{const e=a.data.result;C=e.map((a=>a.name))}))},filterJenis(a,e){e(""!==a?()=>{const e=a.toLowerCase();this.options.options_jenis=C.filter((a=>a.toLowerCase().indexOf(e)>-1))}:()=>{this.options.options_jenis=C})},onSubmit(){try{if(this.editMode){const a=new FormData;a.append("gambar",this.form.file),a.append("data",JSON.stringify({nik:this.form.nik,judul_pengaduan:this.form.judul_pengaduan,deskripsi:this.form.deskripsi,alamat:this.form.alamat,no_hp:this.form.no_hp,nama:this.form.nama,tgl:this.form.tgl,status_pengajuan:this.form.status_pengajuan})),this.$api.put("pengajuan_surat/update/"+this.$route.params.id,a).then((a=>{!0!==a.data.status?(console.log(a.data),this.$q.notify({message:"Gagal Edit Data",color:"red"})):(this.$q.notify({message:"Berhasil Edit Data",color:"green"}),this.$router.push({name:"pesanan"}))}))}else{const a=new FormData;a.append("gambar",this.form.image),a.append("data",JSON.stringify({namaPembangunan:this.form.namaPembangunan,luas:this.form.luas,alamat:this.address,deskripsi:this.form.deskripsi,status:this.form.status_pengajuan})),this.$api.post("pembangunan/input",a).then((a=>{console.log(a),!0!==a.data.status?this.$q.notify({message:"Gagal Kirim Data",color:"red"}):(this.$q.notify({message:"Berhasil Tambah Data",color:"green"}),this.$router.push({name:"pengaduan"}))}))}}catch(a){console.error(a),this.$showNotif("Terjadi kesalahan !","negative")}},onReset(){this.editMode?this.$router.go(-1):(this.form.id_product=null,this.form.name_produk=null,this.form.kategori_product=null,this.form.jenis_product=null,this.form.hpp_product=null,this.form.hargajual=null,this.form.stok_produk=null,this.form.keterangan=null,this.form.image=null)}}};var T=l(1639),x=l(9885),I=l(4458),K=l(2605),M=l(8052),J=l(3190),B=l(7580),F=l(8326),O=l(3119),A=l(9420),E=l(2857),R=l(1066),G=l(8879),H=l(9984),X=l.n(H);const Y=(0,T.Z)(N,[["render",P],["__scopeId","data-v-a8987cda"]]),aa=Y;X()(N,"components",{QPage:x.Z,QCard:I.Z,QBreadcrumbs:K.Z,QBreadcrumbsEl:M.Z,QCardSection:J.Z,QTable:B.Z,QForm:F.Z,QInput:O.Z,QFile:A.Z,QIcon:E.Z,QSelect:R.Z,QBtn:G.Z});const ea={components:{formProduk:aa}},la=(0,T.Z)(ea,[["render",n]]),ta=la}}]);