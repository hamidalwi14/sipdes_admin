"use strict";(globalThis["webpackChunkweb_admin"]=globalThis["webpackChunkweb_admin"]||[]).push([[274],{5274:(a,e,t)=>{t.r(e),t.d(e,{default:()=>H});var l=t(9835);function s(a,e,t,s,o,n){const i=(0,l.up)("form-produk");return(0,l.wg)(),(0,l.j4)(i,{editMode:!0,title:"Edit"})}var o=t(6970);const n={class:"col col-lg-12 col-md-6 col-sm-8 col-xs-10 q-pt-md"},i={class:"row q-mt-lg q-gutter-md"},r={class:"row col fit"},d={class:"col"},u={class:"col-2 q-table__title"},m={class:"text-caption"},p={class:"row q-gutter-sm"},g={class:"col"},h={class:"col"},c={class:"row q-gutter-sm"},f={class:"col"},_={class:"col"},b={class:"row q-gutter-sm"},k={class:"col"},y={class:"col"},w={class:"row q-gutter-sm"},q={class:"col"},v={class:"image-container"},j={class:"row q-gutter-sm",style:{"margin-top":"20px"}},V={class:"col"},$={class:"q-mt-md"};function S(a,e,t,s,S,W){const Z=(0,l.up)("q-breadcrumbs-el"),L=(0,l.up)("q-breadcrumbs"),P=(0,l.up)("q-card"),z=(0,l.up)("q-input"),D=(0,l.up)("q-img"),Q=(0,l.up)("q-select"),x=(0,l.up)("q-btn"),C=(0,l.up)("q-form"),T=(0,l.up)("q-card-section"),M=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(M,{class:"q-pr-md q-pl-md q-pa-md"},{default:(0,l.w5)((()=>[(0,l._)("div",n,[(0,l.Wm)(P,{class:"my-card q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(L,{separator:"---",class:"text-blue-10","active-color":"secondary"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{label:"Main Menu",icon:"widgets"}),(0,l.Wm)(Z,{label:"Pengaduan",icon:"emoji_events"}),this.editMode?((0,l.wg)(),(0,l.j4)(Z,{key:0,label:"Edit Pengaduan",icon:"edit"})):((0,l.wg)(),(0,l.j4)(Z,{key:1,label:"Tambah Pembangunan",icon:"add"}))])),_:1})])),_:1}),(0,l._)("div",i,[(0,l._)("div",r,[(0,l.Wm)(P,{class:"my-card col",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{class:"col q-pa-lg"},{default:(0,l.w5)((()=>[(0,l._)("div",d,[(0,l._)("div",u,(0,o.zw)(this.title)+" Data Pembangunan",1),(0,l._)("p",m,"Form "+(0,o.zw)(this.title)+" data pembangunan",1)]),(0,l.Wm)(C,{onSubmit:W.onSubmit,onReset:W.onReset},{default:(0,l.w5)((()=>[(0,l._)("div",p,[(0,l._)("div",g,[(0,l.Wm)(z,{readonly:"",filled:"",modelValue:S.form.nik,"onUpdate:modelValue":e[0]||(e[0]=a=>S.form.nik=a),label:"NIK","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data NIK"]},null,8,["modelValue","rules"])]),(0,l._)("div",h,[(0,l.Wm)(z,{readonly:"",filled:"",modelValue:S.form.judul_pengaduan,"onUpdate:modelValue":e[1]||(e[1]=a=>S.form.judul_pengaduan=a),label:"Judul Pengaduan","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data nama produk"]},null,8,["modelValue","rules"])])]),(0,l._)("div",c,[(0,l._)("div",f,[(0,l.Wm)(z,{readonly:"",filled:"",modelValue:S.form.deskripsi,"onUpdate:modelValue":e[2]||(e[2]=a=>S.form.deskripsi=a),label:"Deskripsi","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])]),(0,l._)("div",_,[(0,l.Wm)(z,{readonly:"",filled:"",modelValue:S.form.alamat,"onUpdate:modelValue":e[3]||(e[3]=a=>S.form.alamat=a),label:"Alamat","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])])]),(0,l._)("div",b,[(0,l._)("div",k,[(0,l.Wm)(z,{readonly:"",filled:"",modelValue:S.form.no_hp,"onUpdate:modelValue":e[4]||(e[4]=a=>S.form.no_hp=a),label:"No Handphone","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])]),(0,l._)("div",y,[(0,l.Wm)(z,{readonly:"",filled:"",modelValue:S.form.nama,"onUpdate:modelValue":e[5]||(e[5]=a=>S.form.nama=a),label:"Nama","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])])]),(0,l._)("div",w,[(0,l._)("div",q,[(0,l.Wm)(z,{readonly:"",filled:"",modelValue:S.form.tgl,"onUpdate:modelValue":e[6]||(e[6]=a=>S.form.tgl=a),label:"Tanggal Laporan","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Lengkapi data harga jual"]},null,8,["modelValue","rules"])])]),(0,l._)("div",v,[(0,l.Wm)(D,{src:`${a.$imgUrl}/gambar-barang/${this.image}`,class:"responsive-image"},null,8,["src"])]),(0,l._)("div",j,[(0,l._)("div",V,[(0,l.Wm)(Q,{options:S.opsi,filled:"",modelValue:S.form.status,"onUpdate:modelValue":e[7]||(e[7]=a=>S.form.status=a),label:"Satatus","lazy-rules":"",dense:"",rules:[a=>a&&a.length>0||"Status Tidak Boleh Kosong"]},null,8,["options","modelValue","rules"])])]),(0,l._)("div",$,[(0,l.Wm)(x,{label:"Submit",outline:"",type:"submit",color:"green",style:{width:"150px"}}),this.editMode?((0,l.wg)(),(0,l.j4)(x,{key:0,label:"Cancel",type:"reset",color:"red",outline:"",class:"q-ml-sm",style:{width:"150px"}})):((0,l.wg)(),(0,l.j4)(x,{key:1,label:"Reset",type:"reset",color:"red",outline:"",class:"q-ml-sm",style:{width:"150px"}}))])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])),_:1})])])])])),_:1})}t(2879);var W=t(5498),Z=t(2284);let L=[],P=[];const z={name:"PageIndex",components:{lottie:W.Z},props:{editMode:Boolean,title:String},data(){return{address:"",opsi:["Dalam Proses","Sedang DiTangani","Selesai"],map:null,marker:null,defaultLocation:{lat:-5.4368452,lng:105.2502415},image:null,form:{nik:null,judul_pengaduan:null,deskripsi:null,alamat:null,no_hp:null,nama:null,tgl:null,status:null,image:null},oldImg:null,options:{options_kategori:[],options_status:["On Going","Selesai","Pengajuan"],options_jenis:[]},defaultOptions:{animationData:Z},animationSpeed:2}},created(){if(this.getKategori(),this.getJenis(),this.editMode)try{this.$api.get("pengaduan/get-id/"+this.$route.params.id).then((a=>{if(!0!==a.data.status)this.$showNotif(a.data.message,"negative");else{console.log(a.data);const e=a.data.data;this.form.nik=e.nik,this.form.judul_pengaduan=e.judul_pengaduan,this.form.deskripsi=e.deskripsi,this.form.alamat=e.alamat,this.form.no_hp=e.no_hp,this.form.nama=e.nama,this.form.tgl=e.tgl,this.form.status=e.status,this.image=e.gambar,this.form.image=e.gambar}}))}catch(a){console.log(a.message),this.$showNotif("Terjadi ke !","negative")}},methods:{handleAnimation:function(a){this.anim=a},stop:function(){this.anim.stop()},play:function(){this.anim.play()},pause:function(){this.anim.pause()},onSpeedChange:function(){this.anim.setSpeed(this.animationSpeed)},getKategori(){this.$api.get("type/gettype/Kategori").then((a=>{const e=a.data.result;L=e.map((a=>a.name))}))},filterKategori(a,e){e(""!==a?()=>{const e=a.toLowerCase();this.options.options_kategori=L.filter((a=>a.toLowerCase().indexOf(e)>-1))}:()=>{this.options.options_kategori=L})},getJenis(){this.$api.get("type/gettype/Jenis").then((a=>{const e=a.data.result;P=e.map((a=>a.name))}))},filterJenis(a,e){e(""!==a?()=>{const e=a.toLowerCase();this.options.options_jenis=P.filter((a=>a.toLowerCase().indexOf(e)>-1))}:()=>{this.options.options_jenis=P})},onSubmit(){try{if(this.editMode){const a=new FormData;a.append("gambar",this.form.image),a.append("data",JSON.stringify({nik:this.form.nik,judul_pengaduan:this.form.judul_pengaduan,deskripsi:this.form.deskripsi,alamat:this.form.alamat,no_hp:this.form.no_hp,nama:this.form.nama,tgl:this.form.tgl,status:this.form.status})),this.$api.put("pengaduan/update/"+this.$route.params.id,a).then((e=>{!0!==e.data.status?(console.log(a),this.$q.notify({message:"Gagal Edit Data",color:"red"})):(this.$q.notify({message:"Berhasil Edit Data",color:"green"}),this.$router.push({name:"pengaduan"}))}))}else{const a=new FormData;a.append("gambar",this.form.image),a.append("data",JSON.stringify({namaPembangunan:this.form.namaPembangunan,luas:this.form.luas,alamat:this.address,deskripsi:this.form.deskripsi,status:this.form.status})),this.$api.post("pembangunan/input",a).then((a=>{console.log(a),!0!==a.data.status?this.$q.notify({message:"Gagal Kirim Data",color:"red"}):(this.$q.notify({message:"Berhasil Tambah Data",color:"green"}),this.$router.push({name:"pengaduan"}))}))}}catch(a){console.error(a),this.$showNotif("Terjadi kesalahan !","negative")}},onReset(){this.editMode?this.$router.go(-1):(this.form.id_product=null,this.form.name_produk=null,this.form.kategori_product=null,this.form.jenis_product=null,this.form.hpp_product=null,this.form.hargajual=null,this.form.stok_produk=null,this.form.keterangan=null,this.form.image=null)}}};var D=t(1639),Q=t(9885),x=t(4458),C=t(2605),T=t(8052),M=t(3190),N=t(7580),U=t(8326),K=t(3119),B=t(335),I=t(1066),J=t(8879),O=t(9984),E=t.n(O);const R=(0,D.Z)(z,[["render",S],["__scopeId","data-v-62cb9743"]]),F=R;E()(z,"components",{QPage:Q.Z,QCard:x.Z,QBreadcrumbs:C.Z,QBreadcrumbsEl:T.Z,QCardSection:M.Z,QTable:N.Z,QForm:U.Z,QInput:K.Z,QImg:B.Z,QSelect:I.Z,QBtn:J.Z});const G={components:{formProduk:F}},A=(0,D.Z)(G,[["render",s]]),H=A}}]);